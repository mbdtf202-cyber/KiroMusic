# AIåŠŸèƒ½éƒ¨ç½²æ£€æŸ¥æ¸…å•

## ğŸ“‹ éƒ¨ç½²å‰æ£€æŸ¥

### 1. ç¯å¢ƒå‡†å¤‡

#### ç³»ç»Ÿè¦æ±‚
- [ ] Node.js >= 14.x
- [ ] npm >= 6.x
- [ ] å†…å­˜ >= 4GB (æ¨è 8GB)
- [ ] ç£ç›˜ç©ºé—´ >= 2GB

#### ä¾èµ–å®‰è£…
- [ ] åç«¯ä¾èµ–å·²å®‰è£… (`cd backend && npm install`)
- [ ] å‰ç«¯ä¾èµ–å·²å®‰è£… (`cd frontend && npm install`)
- [ ] TensorFlow.jsæ­£å¸¸å·¥ä½œ
- [ ] æ‰€æœ‰å¿…éœ€çš„npmåŒ…å·²å®‰è£…

### 2. é…ç½®æ£€æŸ¥

#### ç¯å¢ƒå˜é‡
- [ ] `backend/.env` æ–‡ä»¶å·²åˆ›å»º
- [ ] `PORT` å·²é…ç½® (é»˜è®¤3001)
- [ ] `NODE_ENV` å·²è®¾ç½®
- [ ] `OPENAI_API_KEY` å·²é…ç½® (å¯é€‰)
- [ ] å…¶ä»–APIå¯†é’¥å·²é…ç½® (å¯é€‰)

#### æ–‡ä»¶æƒé™
- [ ] `backend/models/` ç›®å½•å¯å†™
- [ ] æ—¥å¿—ç›®å½•å¯å†™
- [ ] ä¸´æ—¶æ–‡ä»¶ç›®å½•å¯å†™

### 3. åŠŸèƒ½æµ‹è¯•

#### åŸºç¡€æµ‹è¯•
- [ ] è¿è¡Œ `node backend/test-ai.js` é€šè¿‡
- [ ] AIæœåŠ¡åˆå§‹åŒ–æˆåŠŸ
- [ ] æ‰€æœ‰æ¨¡å‹åŠ è½½æˆåŠŸ
- [ ] å¥åº·æ£€æŸ¥é€šè¿‡

#### APIæµ‹è¯•
- [ ] `/api/ai/health` è¿”å›æ­£å¸¸
- [ ] `/api/ai/investment-recommendation/:id` å·¥ä½œæ­£å¸¸
- [ ] `/api/ai/predict-hits` è¿”å›æ•°æ®
- [ ] `/api/admin/ai/health` å¯è®¿é—®

#### å‰ç«¯æµ‹è¯•
- [ ] AIåŠ©æ‰‹é¡µé¢å¯è®¿é—®
- [ ] æ‰€æœ‰æ ‡ç­¾é¡µæ­£å¸¸æ˜¾ç¤º
- [ ] ç»„ä»¶åŠ è½½æ— é”™è¯¯
- [ ] APIè°ƒç”¨æˆåŠŸ

### 4. æ€§èƒ½æ£€æŸ¥

#### å“åº”æ—¶é—´
- [ ] APIå“åº”æ—¶é—´ < 2ç§’
- [ ] æ¨¡å‹åŠ è½½æ—¶é—´ < 5ç§’
- [ ] é¡µé¢åŠ è½½æ—¶é—´ < 3ç§’

#### èµ„æºä½¿ç”¨
- [ ] å†…å­˜ä½¿ç”¨ < 2GB
- [ ] CPUä½¿ç”¨ < 80%
- [ ] ç£ç›˜IOæ­£å¸¸

#### å¹¶å‘æµ‹è¯•
- [ ] æ”¯æŒ10ä¸ªå¹¶å‘è¯·æ±‚
- [ ] æ”¯æŒ100ä¸ªå¹¶å‘è¯·æ±‚ (å¯é€‰)
- [ ] æ— å†…å­˜æ³„æ¼

### 5. å®‰å…¨æ£€æŸ¥

#### APIå®‰å…¨
- [ ] é€Ÿç‡é™åˆ¶å·²å¯ç”¨
- [ ] è¾“å…¥éªŒè¯æ­£å¸¸å·¥ä½œ
- [ ] é”™è¯¯å¤„ç†ä¸æ³„éœ²æ•æ„Ÿä¿¡æ¯
- [ ] CORSé…ç½®æ­£ç¡®

#### æ•°æ®å®‰å…¨
- [ ] æ•æ„Ÿæ•°æ®å·²åŠ å¯†
- [ ] APIå¯†é’¥å®‰å…¨å­˜å‚¨
- [ ] ç”¨æˆ·æ•°æ®éš”ç¦»
- [ ] æ—¥å¿—ä¸åŒ…å«æ•æ„Ÿä¿¡æ¯

### 6. ç›‘æ§å’Œæ—¥å¿—

#### æ—¥å¿—é…ç½®
- [ ] æ—¥å¿—çº§åˆ«æ­£ç¡®è®¾ç½®
- [ ] æ—¥å¿—æ–‡ä»¶æ­£å¸¸å†™å…¥
- [ ] é”™è¯¯æ—¥å¿—æ­£å¸¸è®°å½•
- [ ] è®¿é—®æ—¥å¿—æ­£å¸¸è®°å½•

#### ç›‘æ§é…ç½®
- [ ] å¥åº·æ£€æŸ¥ç«¯ç‚¹å¯ç”¨
- [ ] ç»Ÿè®¡ä¿¡æ¯å¯æŸ¥è¯¢
- [ ] æ€§èƒ½æŒ‡æ ‡å¯ç›‘æ§

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### å¼€å‘ç¯å¢ƒéƒ¨ç½²

1. **å…‹éš†ä»£ç **
```bash
git clone <repository>
cd kiromusic
```

2. **å®‰è£…ä¾èµ–**
```bash
npm run install:all
```

3. **é…ç½®ç¯å¢ƒ**
```bash
cp backend/.env.example backend/.env
# ç¼–è¾‘ backend/.env é…ç½®å¿…è¦çš„ç¯å¢ƒå˜é‡
```

4. **æµ‹è¯•AIåŠŸèƒ½**
```bash
cd backend
node test-ai.js
```

5. **å¯åŠ¨æœåŠ¡**
```bash
# ç»ˆç«¯1 - åç«¯
cd backend
npm run dev

# ç»ˆç«¯2 - å‰ç«¯
cd frontend
npm run dev
```

6. **éªŒè¯éƒ¨ç½²**
- è®¿é—® http://localhost:5173
- è®¿é—® http://localhost:5173/ai-assistant
- æµ‹è¯•å„é¡¹AIåŠŸèƒ½

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

1. **æ„å»ºå‰ç«¯**
```bash
cd frontend
npm run build
```

2. **é…ç½®ç”Ÿäº§ç¯å¢ƒå˜é‡**
```bash
# backend/.env
NODE_ENV=production
PORT=3001
# å…¶ä»–ç”Ÿäº§ç¯å¢ƒé…ç½®
```

3. **å¯åŠ¨åç«¯æœåŠ¡**
```bash
cd backend
npm start
```

4. **é…ç½®åå‘ä»£ç†** (Nginxç¤ºä¾‹)
```nginx
server {
    listen 80;
    server_name your-domain.com;

    location /api {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }

    location / {
        root /path/to/frontend/dist;
        try_files $uri $uri/ /index.html;
    }
}
```

5. **é…ç½®è¿›ç¨‹ç®¡ç†** (PM2ç¤ºä¾‹)
```bash
# å®‰è£…PM2
npm install -g pm2

# å¯åŠ¨åç«¯
cd backend
pm2 start src/server.js --name kiromusic-backend

# ä¿å­˜é…ç½®
pm2 save
pm2 startup
```

6. **é…ç½®SSLè¯ä¹¦** (Let's Encrypt)
```bash
sudo certbot --nginx -d your-domain.com
```

## ğŸ” éƒ¨ç½²åéªŒè¯

### åŠŸèƒ½éªŒè¯
- [ ] æ‰€æœ‰APIç«¯ç‚¹æ­£å¸¸å·¥ä½œ
- [ ] AIåŠŸèƒ½æ­£å¸¸å“åº”
- [ ] å‰ç«¯é¡µé¢æ­£å¸¸æ˜¾ç¤º
- [ ] æ•°æ®æ­£å¸¸å­˜å‚¨å’Œè¯»å–

### æ€§èƒ½éªŒè¯
- [ ] å“åº”æ—¶é—´ç¬¦åˆè¦æ±‚
- [ ] èµ„æºä½¿ç”¨åœ¨æ­£å¸¸èŒƒå›´
- [ ] å¹¶å‘å¤„ç†æ­£å¸¸
- [ ] ç¼“å­˜æ­£å¸¸å·¥ä½œ

### å®‰å…¨éªŒè¯
- [ ] HTTPSæ­£å¸¸å·¥ä½œ
- [ ] APIè®¤è¯æ­£å¸¸
- [ ] é€Ÿç‡é™åˆ¶ç”Ÿæ•ˆ
- [ ] é”™è¯¯å¤„ç†æ­£ç¡®

## ğŸ“Š ç›‘æ§è®¾ç½®

### å¥åº·æ£€æŸ¥
```bash
# è®¾ç½®å®šæ—¶å¥åº·æ£€æŸ¥
*/5 * * * * curl http://localhost:3001/api/ai/health
```

### æ—¥å¿—ç›‘æ§
```bash
# æŸ¥çœ‹å®æ—¶æ—¥å¿—
pm2 logs kiromusic-backend

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
tail -f backend/logs/error.log
```

### æ€§èƒ½ç›‘æ§
```bash
# æŸ¥çœ‹è¿›ç¨‹çŠ¶æ€
pm2 status

# æŸ¥çœ‹èµ„æºä½¿ç”¨
pm2 monit
```

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. AIæœåŠ¡åˆå§‹åŒ–å¤±è´¥
**ç—‡çŠ¶**: æœåŠ¡å™¨å¯åŠ¨ä½†AIåŠŸèƒ½ä¸å¯ç”¨

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥æ—¥å¿—
tail -f backend/logs/error.log

# æ‰‹åŠ¨åˆå§‹åŒ–
cd backend
node src/ai/initialize.js

# æ£€æŸ¥ä¾èµ–
npm list @tensorflow/tfjs-node
```

#### 2. æ¨¡å‹åŠ è½½å¤±è´¥
**ç—‡çŠ¶**: æ¨¡å‹ç›¸å…³åŠŸèƒ½æŠ¥é”™

**è§£å†³æ–¹æ¡ˆ**:
```bash
# åˆ é™¤æ—§æ¨¡å‹
rm -rf backend/models/*

# é‡æ–°åˆå§‹åŒ–
node src/ai/initialize.js

# æ£€æŸ¥ç£ç›˜ç©ºé—´
df -h
```

#### 3. å†…å­˜ä¸è¶³
**ç—‡çŠ¶**: æœåŠ¡å™¨å´©æºƒæˆ–å“åº”ç¼“æ…¢

**è§£å†³æ–¹æ¡ˆ**:
```bash
# å¢åŠ Node.jså†…å­˜é™åˆ¶
node --max-old-space-size=4096 src/server.js

# æˆ–åœ¨PM2ä¸­é…ç½®
pm2 start src/server.js --node-args="--max-old-space-size=4096"
```

#### 4. APIè¶…æ—¶
**ç—‡çŠ¶**: è¯·æ±‚è¶…æ—¶æˆ–å“åº”ç¼“æ…¢

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ¸…ç†ç¼“å­˜
curl -X POST http://localhost:3001/api/admin/ai/clear-cache

# é‡å¯æœåŠ¡
pm2 restart kiromusic-backend

# æ£€æŸ¥ç³»ç»Ÿèµ„æº
top
```

## ğŸ“ˆ ä¼˜åŒ–å»ºè®®

### æ€§èƒ½ä¼˜åŒ–
- [ ] å¯ç”¨Redisç¼“å­˜
- [ ] é…ç½®CDNåŠ é€Ÿ
- [ ] ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢
- [ ] å¯ç”¨Gzipå‹ç¼©

### æ‰©å±•æ€§ä¼˜åŒ–
- [ ] é…ç½®è´Ÿè½½å‡è¡¡
- [ ] ä½¿ç”¨å®¹å™¨åŒ–éƒ¨ç½²
- [ ] é…ç½®è‡ªåŠ¨æ‰©å±•
- [ ] ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—

### å®‰å…¨ä¼˜åŒ–
- [ ] é…ç½®WAF
- [ ] å¯ç”¨DDoSé˜²æŠ¤
- [ ] å®šæœŸå®‰å…¨å®¡è®¡
- [ ] æ›´æ–°ä¾èµ–åŒ…

## ğŸ“ ç»´æŠ¤è®¡åˆ’

### æ—¥å¸¸ç»´æŠ¤
- [ ] æ¯æ—¥æ£€æŸ¥æ—¥å¿—
- [ ] æ¯æ—¥æ£€æŸ¥æ€§èƒ½æŒ‡æ ‡
- [ ] æ¯æ—¥å¤‡ä»½æ•°æ®

### æ¯å‘¨ç»´æŠ¤
- [ ] æ£€æŸ¥ç³»ç»Ÿæ›´æ–°
- [ ] æ¸…ç†ä¸´æ—¶æ–‡ä»¶
- [ ] ä¼˜åŒ–æ•°æ®åº“
- [ ] æ£€æŸ¥å®‰å…¨æ¼æ´

### æ¯æœˆç»´æŠ¤
- [ ] æ›´æ–°ä¾èµ–åŒ…
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] å®‰å…¨å®¡è®¡
- [ ] å¤‡ä»½éªŒè¯

## âœ… éƒ¨ç½²å®Œæˆç¡®è®¤

- [ ] æ‰€æœ‰æ£€æŸ¥é¡¹å·²å®Œæˆ
- [ ] åŠŸèƒ½æµ‹è¯•é€šè¿‡
- [ ] æ€§èƒ½æµ‹è¯•é€šè¿‡
- [ ] å®‰å…¨æµ‹è¯•é€šè¿‡
- [ ] ç›‘æ§å·²é…ç½®
- [ ] æ–‡æ¡£å·²æ›´æ–°
- [ ] å›¢é˜Ÿå·²åŸ¹è®­

## ğŸ“ æ”¯æŒè”ç³»

- æŠ€æœ¯æ”¯æŒ: support@kiromusic.io
- ç´§æ€¥è”ç³»: emergency@kiromusic.io
- æ–‡æ¡£: https://docs.kiromusic.io

---

**éƒ¨ç½²æ—¥æœŸ**: ___________
**éƒ¨ç½²äººå‘˜**: ___________
**éªŒè¯äººå‘˜**: ___________
**çŠ¶æ€**: [ ] å®Œæˆ [ ] å¾…å®Œæˆ
